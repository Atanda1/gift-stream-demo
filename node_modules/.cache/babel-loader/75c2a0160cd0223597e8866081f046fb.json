{"ast":null,"code":"import ConnectWallet from \"./components/ConnectWallet.vue\";\nimport connect from \"./composables/index\";\nimport { onMounted } from \"vue\";\nexport default {\n  name: \"App\",\n  components: {\n    ConnectWallet\n  },\n  setup: () => {\n    onMounted(async () => {\n      const {\n        ethereum\n      } = window;\n      const {\n        state\n      } = connect();\n      console.log(state.status);\n\n      if (state.status) {\n        ethereum.on(\"accountsChanged\", accounts => {\n          if (accounts < 1) {\n            console.log(\"disconnected\");\n            state.status = false;\n            state.address = \"\";\n            localStorage.removeItem(\"userState\");\n          }\n        });\n      }\n    });\n  }\n};","map":{"version":3,"mappings":"AAKA,OAAOA,aAAP,MAA0B,gCAA1B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,SAAT,QAA0B,KAA1B;AACA,eAAe;AACbC,MAAI,EAAE,KADO;AAEbC,YAAU,EAAE;AACVJ;AADU,GAFC;AAKbK,OAAK,EAAE,MAAM;AACXH,aAAS,CAAC,YAAY;AACpB,YAAM;AAAEI;AAAF,UAAeC,MAArB;AACA,YAAM;AAAEC;AAAF,UAAYP,OAAO,EAAzB;AACAQ,aAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAlB;;AACA,UAAIH,KAAK,CAACG,MAAV,EAAkB;AAChBL,gBAAQ,CAACM,EAAT,CAAY,iBAAZ,EAAgCC,QAAD,IAAc;AAC3C,cAAIA,QAAO,GAAI,CAAf,EAAkB;AAElBJ,mBAAO,CAACC,GAAR,CAAY,cAAZ;AACAF,iBAAK,CAACG,MAAN,GAAe,KAAf;AACAH,iBAAK,CAACM,OAAN,GAAgB,EAAhB;AACAC,wBAAY,CAACC,UAAb,CAAwB,WAAxB;AACA;AAED,SATD;AAUF;AACD,KAhBQ,CAAT;AAiBD;AAvBY,CAAf","names":["ConnectWallet","connect","onMounted","name","components","setup","ethereum","window","state","console","log","status","on","accounts","address","localStorage","removeItem"],"sourceRoot":"","sources":["/Users/david/Documents/projects/gift-stream-demo/src/App.vue"],"sourcesContent":["<template>\n  <ConnectWallet />\n</template>\n\n<script>\nimport ConnectWallet from \"./components/ConnectWallet.vue\";\nimport connect from \"./composables/index\";\nimport { onMounted } from \"vue\";\nexport default {\n  name: \"App\",\n  components: {\n    ConnectWallet,\n  },\n  setup: () => {\n    onMounted(async () => {\n      const { ethereum } = window;\n      const { state } = connect();\n      console.log(state.status);\n      if (state.status) {\n        ethereum.on(\"accountsChanged\", (accounts) => {\n          if (accounts < 1) {\n\n          console.log(\"disconnected\");\n          state.status = false;\n          state.address = \"\";\n          localStorage.removeItem(\"userState\");\n          }\n          \n        });\n      }\n    });\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}